<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="last-modified" content="2016-07-19 12:35:55 +0200">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="search-domain" value="/swc-releases/2016.06/sql-novice-survey">
    <link rel="stylesheet" type="text/css" href="/swc-releases/2016.06/sql-novice-survey/assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="/swc-releases/2016.06/sql-novice-survey/assets/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="/swc-releases/2016.06/sql-novice-survey/assets/css/lesson.css" />
    
    <link rel="shortcut icon" type="image/x-icon" href="/favicon-swc.ico" />
    
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
    <title>Databases and SQL: Instructor's Guide</title>
  </head>
  <body>
    <div class="container">
      <nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      
      
      <a href="https://software-carpentry.org" class="pull-left">
        <img class="navbar-logo" src="/swc-releases/2016.06/sql-novice-survey/assets/img/swc-icon-blue.svg" alt="Software Carpentry logo" />
      </a>
      

      
      <a class="navbar-brand" href="/swc-releases/2016.06/sql-novice-survey/">Home</a>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">

	
        <li><a href="/swc-releases/2016.06/sql-novice-survey/conduct/">Code of Conduct</a></li>

	
        
        <li><a href="/swc-releases/2016.06/sql-novice-survey/setup/">Setup</a></li>
        <li><a href="/swc-releases/2016.06/sql-novice-survey/reference/">Reference</a></li>
        <li class="dropdown">
          <a href="/swc-releases/2016.06/sql-novice-survey/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Episodes <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            <li><a href="/swc-releases/2016.06/sql-novice-survey/01-select/">Selecting Data</a></li>
            
            <li><a href="/swc-releases/2016.06/sql-novice-survey/02-sort-dup/">Sorting and Removing Duplicates</a></li>
            
            <li><a href="/swc-releases/2016.06/sql-novice-survey/03-filter/">Filtering</a></li>
            
            <li><a href="/swc-releases/2016.06/sql-novice-survey/04-calc/">Calculating New Values</a></li>
            
            <li><a href="/swc-releases/2016.06/sql-novice-survey/05-null/">Missing Data</a></li>
            
            <li><a href="/swc-releases/2016.06/sql-novice-survey/06-agg/">Aggregation</a></li>
            
            <li><a href="/swc-releases/2016.06/sql-novice-survey/07-join/">Combining Data</a></li>
            
            <li><a href="/swc-releases/2016.06/sql-novice-survey/08-hygiene/">Data Hygiene</a></li>
            
            <li><a href="/swc-releases/2016.06/sql-novice-survey/09-create/">Creating and Modifying Data</a></li>
            
            <li><a href="/swc-releases/2016.06/sql-novice-survey/10-prog/">Programming with Databases</a></li>
            
          </ul>
        </li>
	

	
	
        <li class="dropdown">
          <a href="/swc-releases/2016.06/sql-novice-survey/" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Extras <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            <li><a href="/swc-releases/2016.06/sql-novice-survey/about/">About</a></li>
            
            <li><a href="/swc-releases/2016.06/sql-novice-survey/discuss/">Discussion</a></li>
            
            <li><a href="/swc-releases/2016.06/sql-novice-survey/figures/">Figures</a></li>
            
            <li><a href="/swc-releases/2016.06/sql-novice-survey/guide/">Instructor's Guide</a></li>
            
          </ul>
        </li>
	

	
        <li><a href="/swc-releases/2016.06/sql-novice-survey/license/">License</a></li>
      </ul>
      <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search...">
        </div>
      </form>
    </div>
  </div>
</nav>

<h1 class="maintitle"><a href="/swc-releases/2016.06/sql-novice-survey/">Databases and SQL</a>: Instructor's Guide</h1>

<blockquote class="quotation">
  <p><strong>database</strong> (dā’tə-bās’) noun:
“A collection of data arranged for ease and speed of search and retrieval by a computer”</p>

  <p>— The American Heritage® Science Dictionary</p>
</blockquote>

<ul>
  <li>Three common options for storing data</li>
  <li>Text
    <ul>
      <li>Easy to create, work well with version control</li>
      <li>But then we have to build search and analysis tools ourselves</li>
    </ul>
  </li>
  <li>Spreadsheets
    <ul>
      <li>Good for simple analyses</li>
      <li>But don’t handle large or complex data sets well</li>
    </ul>
  </li>
  <li>Databases
    <ul>
      <li>Include powerful tools for search and analysis</li>
      <li>Can handle large, complex data sets.</li>
    </ul>
  </li>
</ul>

<h2 id="overall">Overall</h2>

<p>Relational databases are not as widely used in science as in business,
but they are still a common way to store large data sets with complex structure.
Even when the data itself isn’t in a database,
the metadata could be:
for example,
meteorological data might be stored in files on disk,
but data about when and where observations were made,
data ranges,
and so on could be in a database
to make it easier for scientists to find what they want to.</p>

<ul>
  <li>
    <p>The first few sections (up to “Missing Data”) usually go very quickly.
The pace usually slows down a bit when null values are discussed
mostly because learners have a lot of details to keep straight by this point.
Things <em>really</em> slow down during the discussion of joins,
but this is the key idea in the whole lesson:
important ideas like primary keys and referential integrity
only make sense once learners have seen how they’re used in joins.
It’s worth going over things a couple of times if necessary (with lots of examples).</p>
  </li>
  <li>
    <p>The sections on creating and modifying data,
and programming with databases,
can be dropped if time is short.
Of the two,
people seem to care most about how to add data (which only takes a few minutes to demonstrate).</p>
  </li>
  <li>
    <p>Simple calculations are actually easier to do in a spreadsheet; the
advantages of using a database become clear as soon as filtering
and joins are needed.  Instructors may therefore want to show a
spreadsheet with the information from the four database tables
consolidated into a single sheet, and demonstrate what’s needed in
both systems to answer questions like, “What was the average
radiation reading in 1931?”</p>
  </li>
  <li>
    <p>Some advanced learners may have heard that NoSQL databases
(i.e., ones that don’t use the relational model)
are the next big thing,
and ask why we’re not teaching those.
The answers are:</p>
    <ol>
      <li>Relational databases are far more widely used than NoSQL databases.</li>
      <li>We have far more experience with relational databases than with any other kind,
so we have a better idea of what to teach and how to teach it.</li>
      <li>NoSQL databases are as different from each other as they are from relational databases.
Until a leader emerges, it isn’t clear <em>which</em> NoSQL database we should teach.</li>
    </ol>
  </li>
</ul>

<h2 id="resources">Resources</h2>

<ul>
  <li><code class="highlighter-rouge">data/*.csv</code>: CSV versions of data in sample survey database.</li>
  <li><code class="highlighter-rouge">bin/create-db.sql</code>: generate survey database used in examples based on CSV.</li>
</ul>

<h2 id="sqlite-setup">SQLite Setup</h2>

<p>In order to execute the following lessons interactively,
please install SQLite as mentioned in the setup instructions for your workshop.
Then:</p>

<div class="bash highlighter-rouge"><pre class="highlight"><code>$ git clone http://github.com/swcarpentry/sql-novice-survey.git
$ cd sql-novice-survey
</code></pre>
</div>

<p>Next,
create the database that will be used:</p>

<div class="bash highlighter-rouge"><pre class="highlight"><code>$ sqlite3 survey.sqlite .read bin/create-db.sql
</code></pre>
</div>

<p>This reads commands from <code class="highlighter-rouge">bin/create-db.sql</code>,
which sets up the tables and loads data from the CSV files in the <code class="highlighter-rouge">data</code> directory.</p>

<p>To run commands interactively,
run SQLite on <code class="highlighter-rouge">survey.sqlite</code>:</p>

<div class="bash highlighter-rouge"><pre class="highlight"><code>$ sqlite3 survey.sqlite
SQLite version 3.8.5 2014-08-15 22:37:57
Enter ".help" for usage hints.
sqlite&gt;
</code></pre>
</div>

<h2 id="troubleshooting">Troubleshooting</h2>

<p>The command history and line editing features provided by <code class="highlighter-rouge">readline</code> are
invaluable with a command-line tool like <code class="highlighter-rouge">sqlite3</code>. Participants should be
encouraged strongly to start with a simple SQL statement and then use the
up-arrow key to go back and add clauses one at a time, or fix problems, rather
than typing each command from scratch. Unfortunately on some Linux and Mac OS X
systems participants have found that the arrow keys do not scroll through the
command history as expected.</p>

<p>A workaround for this it to use the <a href="https://github.com/hanslub42/rlwrap">rlwrap</a>
(readline wrapper) command when starting SQLite:</p>

<div class="bash highlighter-rouge"><pre class="highlight"><code>$ rlwrap sqlite3 survey.sqlite
</code></pre>
</div>

<p>The <code class="highlighter-rouge">rlwrap</code> package is available in the standard Fedora repository
(but wasn’t needed when I [@benwaugh] taught this) and appears to be
available in <a href="http://packages.ubuntu.com/precise/rlwrap">Ubuntu</a> too,
and in <a href="https://news.ycombinator.com/item?id=5087790">OS X using Homebrew</a>.</p>


      
      <hr/>
<footer>
  <div class="row">
    <div class="col-md-6" align="left">
      <h4>
	Copyright &copy; 2016
	<a href="https://software-carpentry.org">Software Carpentry Foundation</a>
	
      </h4>
    </div>
    <div class="col-md-6" align="right">
      <h4>
	<a href="/">Source</a>
	/
	<a href="/blob/gh-pages/CONTRIBUTING.md">Contributing</a>
	/
	<a href="mailto:lessons@software-carpentry.org">Contact</a>
      </h4>
    </div>
  </div>
</footer>

      
    </div>
    <script src="/swc-releases/2016.06/sql-novice-survey/assets/js/jquery.min.js"></script>
<script src="/swc-releases/2016.06/sql-novice-survey/assets/js/bootstrap.min.js"></script>
<script src="/swc-releases/2016.06/sql-novice-survey/assets/js/lesson.js"></script>

  </body>
</html>
